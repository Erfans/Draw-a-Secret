!function(e,t){if("function"==typeof define&&define.amd)define(["exports"],t);else if("undefined"!=typeof exports)t(exports);else{var n={exports:{}};t(n.exports),e.util=n.exports}}(this,function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return t(e,null,[{key:"extends",value:function(){for(var e={},t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return n.forEach(function(t){e=Object.assign(e,t)}),e}},{key:"addEventListener",value:function(e,t,n,o){t.split(" ").forEach(function(t){e.addEventListener(t,n,o)})}}]),e}();e.Util=n}),function(e,t){if("function"==typeof define&&define.amd)define(["exports"],t);else if("undefined"!=typeof exports)t(exports);else{var n={exports:{}};t(n.exports),e.das=n.exports}}(this,function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return t(e,null,[{key:"version",get:function(){return"1.2.0"}}]),e}();e.DAS=n}),function(e,t){if("function"==typeof define&&define.amd)define(["exports","./das","./util"],t);else if("undefined"!=typeof exports)t(exports,require("./das"),require("./util"));else{var n={exports:{}};t(n.exports,e.das,e.util),e.bdas=n.exports}}(this,function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BDAS=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var r=function(e){function r(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));e=n.Util.extends(r.defaultConfig,e),t.bgImageIds="string"==typeof e.bgImageIds?[e.bgImageIds]:e.bgImageIds,t.inputPasswordId=e.inputPasswordId,t.numberOfRows=e.numberOfRows,t.numberOfColumns=e.numberOfColumns,t.onChange=e.onChange,t.onClear=e.onClear,t.hashFn=e.hashFn,t.pathString="",t.isTouching=!1,t.lastPosition={x:-1,y:-1};var o=0,i=t;t.input=document.getElementById(t.inputPasswordId);var u=!0,a=!1,s=void 0;try{for(var f,l=t.bgImageIds[Symbol.iterator]();!(u=(f=l.next()).done);u=!0){var c=f.value,h=document.getElementById(c);h.drawASecret={num:o++,cw:Math.floor(h.width/t.numberOfColumns),rh:Math.floor(h.height/t.numberOfRows)},h.draggable=!1,h.ondragstart=function(){return!1},n.Util.addEventListener(h,"touchstart mousedown",function(e){e.preventDefault();var t=this.drawASecret;i.makeString(e,{top:this.offsetTop,left:this.offsetLeft},t.cw,t.rh,t.num),i.isTouching=!0},!1),n.Util.addEventListener(h,"touchmove mousemove",function(e){if(e.preventDefault(),i.isTouching){var t=this.drawASecret;i.makeString(e,{top:this.offsetTop,left:this.offsetLeft},t.cw,t.rh,t.num),i.onChange&&"function"==typeof i.onChange&&i.options.onChange()}}),n.Util.addEventListener(h,"touchend mouseup",function(e){e.preventDefault(),t.isTouching=!1})}}catch(e){a=!0,s=e}finally{try{!u&&l.return&&l.return()}finally{if(a)throw s}}return n.Util.addEventListener(document,"touchend mouseup",function(){t.lastPosition={x:-1,y:-1},t.isTouching=!1}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,t.DAS),o(r,null,[{key:"defaultConfig",get:function(){return{bgImageIds:[],inputPasswordId:null,numberOfRows:15,numberOfColumns:15,onChange:null,onClear:null,hashFn:null}}}]),o(r,[{key:"makeString",value:function(e,t,n,o,r){var i=this.lastPosition,u=e.touches?e.touches[0]:e,a=u.target.getBoundingClientRect(),s={x:Math.floor((u.clientX-a.left)/n),y:Math.floor((u.clientY-a.top)/o)};i.x===s.x&&i.y===s.y||(this.pathString+=""+r+s.x+s.y,this.input&&(this.input.value=this.hashFn?this.hashFn(this.pathString):this.pathString),this.lastPosition=s)}},{key:"clearPassword",value:function(){this.pathString="",this.input&&(this.input.value=""),this.onClear&&"function"==typeof this.onClear&&this.onClear()}}]),r}();e.BDAS=r});